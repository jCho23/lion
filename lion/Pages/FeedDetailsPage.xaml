<?xml version="1.0" encoding="UTF-8"?>
<ContentPage 
    xmlns="http://xamarin.com/schemas/2014/forms" 
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:lion;assembly=lion"
    xmlns:local="clr-namespace:lion.Pages;assembly=XFGloss"
    xmlns:xfg="clr-namespace:XFGloss;assembly=XFGloss"
    xmlns:ic="clr-namespace:ImageCircle.Forms.Plugin.Abstractions;assembly=ImageCircle.Forms.Plugin.Abstractions"
    x:Class="lion.Pages.FeedDetailsPage"
    Title="Post Details">

     <xfg:ContentPageGloss.BackgroundGradient>
        <xfg:Gradient Rotation="180">
            <xfg:GradientStep StepColor="#0c2461" StepPercentage="0" />
            <xfg:GradientStep StepColor="#1e3799" StepPercentage=".5" />
            <xfg:GradientStep StepColor="#f6b93b" StepPercentage="1" />
        </xfg:Gradient>
    </xfg:ContentPageGloss.BackgroundGradient>
    
    <Grid 
        RowSpacing="0"
        Padding="8">
            <Grid.RowDefinitions>
                <RowDefinition Height="100"/>
                <RowDefinition Height="100"/>
                <RowDefinition Height="40"/>
                <RowDefinition Height="10"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
        
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
             
            
        <StackLayout
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Orientation="Horizontal"
            HorizontalOptions="StartAndExpand">
                <ic:CircleImage
                    
                    WidthRequest="100"
                    HeightRequest="100"
                    Aspect="AspectFill"
                    BorderColor="Gray"
                    BorderThickness="3"
                    Source="{Binding UserUrl}"/>
                <StackLayout
                    Padding="5"
                    Grid.Row="0"
                    Grid.Column="1"
                    Grid.ColumnSpan="2">
                        <Label 
                            Text="{Binding Post}" 
                            FontSize="20"
                           />
                        <Label
                            Margin="0, 5, 5,0"
                            FontSize="10"
                            TextColor="Silver"
                            Text="{Binding Status}"
                            VerticalOptions="EndAndExpand"
                            HorizontalOptions="EndAndExpand"/>
                </StackLayout>
        </StackLayout>
    
        <Label
            Grid.Row="1"
            Grid.Column="0"
            Text="Kylie Jenner"
            Margin="5,5,0,0"
            VerticalOptions="Start"
            HorizontalOptions="Start" 
            BackgroundColor="Transparent"/>

        <BoxView
            Grid.Row="1"
            Grid.Column="1" 
            WidthRequest="150"
            HeightRequest="220">
        </BoxView>

        <Frame
            Margin="5,0,5,0"
            Grid.Row="2"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            OutlineColor="#f6b93b"
            Padding="10"
            HasShadow="false"
            BackgroundColor="Transparent">
            <Entry
                x:Name="replyPostInput"
                Grid.Row="2"
                Grid.Column="0"
                Grid.ColumnSpan="2"
                BackgroundColor="Transparent"
                Keyboard="Text"
                Placeholder="Reply to Post..."
                HorizontalOptions="FillAndExpand"
                VerticalOptions="FillAndExpand"
                Text="{Binding ReplyPost}"
                TextChanged="OnReplyTextLimit"
                PlaceholderColor="#f6b93b"
                TextColor="#f6b93b"/>
                <!--Completed="Handle_Completed"-->
        </Frame>
        
        <Button 
            x:Name="postButton"
            Grid.Row="2"
            Grid.Column= "1"
            Margin="0,7,12,6"
            Text="Post"
            BorderColor="Aqua"
            BackgroundColor="#f6b93b"
            HeightRequest="30"
            WidthRequest="40"
            VerticalOptions="End"
            HorizontalOptions="End" 
            Clicked="OnReplyPost_Clicked"/>
       
        <ListView
            
            x:Name="FeedDetailsPageListView"
            BackgroundColor="Transparent"
            Grid.Row="4"
            Grid.ColumnSpan="2">
            <ListView.RowHeight>
                <OnPlatform x:TypeArguments="x:Int32">
                    <On Platform="iOS, Android" Value="120" />
                </OnPlatform>
            </ListView.RowHeight>
                       
           <ListView.ItemTemplate>
                <DataTemplate>
                   
                    <ViewCell
                        >
                        <ContentView 
                            Padding="5">
                            <Frame
                                OutlineColor="#f6b93b"
                                Padding="10"
                                HasShadow="false"
                                BackgroundColor="Transparent">
                            <StackLayout
                                Orientation="Horizontal"
                                Padding="5"
                                HorizontalOptions="Start">
                                    <ic:CircleImage
                                        WidthRequest="80"
                                        HeightRequest="60"
                                        Aspect="AspectFill"
                                        BorderColor="Gray"
                                        BorderThickness="3"
                                        Source="{Binding UserUrl}"/>
                                            <StackLayout
                                                Padding="5">
                                                    <Label 
                                                        Text="{Binding Post}"
                                                        FontSize="16" />
                                                    <Label
                                                        Text="{Binding Status}"
                                                        HorizontalOptions="EndAndExpand"
                                                        VerticalOptions="EndAndExpand"
                                                        FontSize="10"
                                                        TextColor="Silver"/>
                                            </StackLayout>
                            </StackLayout> 
                            </Frame>    
                    </ContentView>
                </ViewCell>
                  
            </DataTemplate>
        </ListView.ItemTemplate>
    </ListView>

    </Grid>
</ContentPage>